(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var YSelections;

YSelections = (function() {
  function YSelections() {}

  YSelections.prototype._name = "Selections";

  YSelections.prototype._getModel = function(Y, Operation) {
    if (this._model == null) {
      this._model = new Operation.Composition(this, []).execute();
    }
    return this._model;
  };

  YSelections.prototype._setModel = function(_model) {
    this._model = _model;
  };

  YSelections.prototype._apply = function(delta) {
    var createSelection, cut_off_from, cut_off_to, end, extendSelection, from, o, selection, start, to;
    from = this._model.HB.getOperation(delta.from);
    to = this._model.HB.getOperation(delta.to);
    createSelection = function(from, to, attrs) {
      var n, new_attrs, v;
      new_attrs = {};
      for (n in attrs) {
        v = attrs[n];
        new_attrs[n] = v;
      }
      return {
        from: from,
        to: to,
        attrs: new_attrs
      };
    };
    extendSelection = function(selection, attrs) {
      var n, v, _results;
      _results = [];
      for (n in attrs) {
        v = attrs[n];
        _results.push(selection.attrs[n] = v);
      }
      return _results;
    };
    if (!((from != null) && (to != null))) {
      console.log("wasn't able to apply the selection..");
    }
    if (delta.type === "select") {
      cut_off_from = function() {
        var new_selection, o, old_selection, opt_selection;
        if ((from.selection != null) && from.selection.from === from) {
          return;
        }
        o = from.prev_cl;
        while ((o.selection == null) && (o.type !== "Delimiter")) {
          o = o.prev_cl;
        }
        if ((o.selection == null) || o.selection.to === o) {
          return;
        }
        old_selection = o.selection;
        o = from;
        while ((o !== old_selection.to) && (o !== to)) {
          o = o.next_cl;
        }
        if (o === old_selection.to) {
          new_selection = createSelection(from, old_selection.to, old_selection.attrs);
          extendSelection(new_selection, delta.attrs);
          old_selection.to = from.prev_cl;
          old_selection.to.selection = old_selection;
          new_selection.from.selection = new_selection;
          return new_selection.to.selection = new_selection;
        } else {
          new_selection = createSelection(from, to, old_selection.attrs);
          extendSelection(new_selection, delta.attrs);
          opt_selection = createSelection(to.next_cl, old_selection.to, old_selection.attrs);
          old_selection.to = from.prev_cl;
          old_selection.to.selection = old_selection;
          new_selection.from.selection = new_selection;
          new_selection.to.selection = new_selection;
          opt_selection.from.selection = opt_selection;
          return opt_selection.to.selection = opt_selection;
        }
      };
      cut_off_from();
      cut_off_to = function() {
        var new_selection, o, old_selection;
        if ((to.selection != null) && to.selection.to === to) {
          return;
        }
        o = to;
        while ((o.selection == null) && (o !== from)) {
          o = o.prev_cl;
        }
        if ((o.selection == null) || o.selection["to"] === o) {
          return;
        }
        old_selection = o.selection;
        new_selection = createSelection(to.next_cl, old_selection.to, old_selection.attrs);
        extendSelection(old_selection, delta.attrs);
        old_selection.to = to;
        old_selection.to.selection = old_selection;
        new_selection.from.selection = new_selection;
        return new_selection.to.selection = new_selection;
      };
      cut_off_to();
      o = from;
      while (o !== to.next_cl) {
        if (o.selection != null) {
          console.log("1");
          extendSelection(o.selection, delta.attrs);
          o = o.selection.to.next_cl;
        } else {
          console.log("2");
          start = o;
          while ((o.next_cl.selection == null) && (o !== to)) {
            o = o.next_cl;
          }
          end = o;
          selection = createSelection(start, end, delta.attrs);
          start.selection = selection;
          end.selection = selection;
          o = o.next_cl;
        }
      }
    } else if (delta.type === "unselect") {

    } else {
      throw new Error("unsupported delta!");
    }
    return delta;
  };

  YSelections.prototype._unapply = function(delta) {
    var from, to;
    from = this._model.HB.getOperation(delta.from);
    to = this._model.HB.getOperation(delta.to);
    if (!((from != null) && (to != null))) {
      console.log("wasn't able to unapply the selection..");
    }
    if (delta.type === "select") {
      delete from.selection;
      return delete to.selection;
    } else if (delta.type === "unselect") {

    } else {
      throw new Error("unsupported delta!");
    }
  };

  YSelections.prototype.select = function(from, to, attrs) {
    var delta;
    delta = {
      from: from.getUid(),
      to: to.getUid(),
      attrs: attrs,
      type: "select"
    };
    return this._model.applyDelta(delta);
  };

  YSelections.prototype.unselect = function(from, to, attrs) {
    var delta;
    delta = {
      from: from.getUid(),
      to: to.getUid(),
      attrs: attrs,
      type: "unselect"
    };
    return this._model.applyDelta(delta);
  };

  YSelections.prototype.observe = function(f) {
    return this._model.observe(f);
  };

  return YSelections;

})();

if (typeof window !== "undefined" && window !== null) {
  if (window.Y != null) {
    window.Y.Selections = YSelections;
  } else {
    throw new Error("You must first import Y!");
  }
}

if (typeof module !== "undefined" && module !== null) {
  module.exports = YSelections;
}


},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NvZGlvL3dvcmtzcGFjZS95LXNlbGVjdGlvbnMvbm9kZV9tb2R1bGVzL2d1bHAtYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwiL2hvbWUvY29kaW8vd29ya3NwYWNlL3ktc2VsZWN0aW9ucy9saWIveS1zZWxlY3Rpb25zLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0dBLElBQUEsV0FBQTs7QUFBQTtBQUNlLEVBQUEscUJBQUEsR0FBQSxDQUFiOztBQUFBLHdCQUVBLEtBQUEsR0FBTyxZQUZQLENBQUE7O0FBQUEsd0JBSUEsU0FBQSxHQUFXLFNBQUMsQ0FBRCxFQUFJLFNBQUosR0FBQTtBQUNULElBQUEsSUFBTyxtQkFBUDtBQUNFLE1BQUEsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLFNBQVMsQ0FBQyxXQUFWLENBQXNCLElBQXRCLEVBQXlCLEVBQXpCLENBQTRCLENBQUMsT0FBN0IsQ0FBQSxDQUFkLENBREY7S0FBQTtXQUVBLElBQUMsQ0FBQSxPQUhRO0VBQUEsQ0FKWCxDQUFBOztBQUFBLHdCQVNBLFNBQUEsR0FBVyxTQUFFLE1BQUYsR0FBQTtBQUFVLElBQVQsSUFBQyxDQUFBLFNBQUEsTUFBUSxDQUFWO0VBQUEsQ0FUWCxDQUFBOztBQUFBLHdCQVdBLE1BQUEsR0FBUSxTQUFDLEtBQUQsR0FBQTtBQUVOLFFBQUEsOEZBQUE7QUFBQSxJQUFBLElBQUEsR0FBTyxJQUFDLENBQUEsTUFBTSxDQUFDLEVBQUUsQ0FBQyxZQUFYLENBQXdCLEtBQUssQ0FBQyxJQUE5QixDQUFQLENBQUE7QUFBQSxJQUNBLEVBQUEsR0FBSyxJQUFDLENBQUEsTUFBTSxDQUFDLEVBQUUsQ0FBQyxZQUFYLENBQXdCLEtBQUssQ0FBQyxFQUE5QixDQURMLENBQUE7QUFBQSxJQUVBLGVBQUEsR0FBa0IsU0FBQyxJQUFELEVBQU8sRUFBUCxFQUFXLEtBQVgs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bnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcblxuXG5jbGFzcyBZU2VsZWN0aW9uc1xuICBjb25zdHJ1Y3RvcjogKCktPlxuXG4gIF9uYW1lOiBcIlNlbGVjdGlvbnNcIlxuXG4gIF9nZXRNb2RlbDogKFksIE9wZXJhdGlvbikgLT5cbiAgICBpZiBub3QgQF9tb2RlbD9cbiAgICAgIEBfbW9kZWwgPSBuZXcgT3BlcmF0aW9uLkNvbXBvc2l0aW9uKEAsIFtdKS5leGVjdXRlKClcbiAgICBAX21vZGVsXG5cbiAgX3NldE1vZGVsOiAoQF9tb2RlbCktPlxuXG4gIF9hcHBseTogKGRlbHRhKS0+XG4gICAgIyBUT0RPOiBjdXJyZW50bHksIGFwcGxpZXMgdGhlIGRlbHRhIF9hcyBpc18uXG4gICAgZnJvbSA9IEBfbW9kZWwuSEIuZ2V0T3BlcmF0aW9uIGRlbHRhLmZyb21cbiAgICB0byA9IEBfbW9kZWwuSEIuZ2V0T3BlcmF0aW9uIGRlbHRhLnRvXG4gICAgY3JlYXRlU2VsZWN0aW9uID0gKGZyb20sIHRvLCBhdHRycyktPlxuICAgICAgbmV3X2F0dHJzID0ge31cbiAgICAgIGZvciBuLHYgb2YgYXR0cnNcbiAgICAgICAgbmV3X2F0dHJzW25dID0gdlxuICAgICAge1xuICAgICAgICBmcm9tOiBmcm9tXG4gICAgICAgIHRvOiB0b1xuICAgICAgICBhdHRyczogbmV3X2F0dHJzXG4gICAgICB9XG5cbiAgICBleHRlbmRTZWxlY3Rpb24gPSAoc2VsZWN0aW9uLCBhdHRycyktPlxuICAgICAgZm9yIG4sdiBvZiBhdHRyc1xuICAgICAgICBzZWxlY3Rpb24uYXR0cnNbbl0gPSB2XG5cbiAgICBpZiBub3QgKGZyb20/IGFuZCB0bz8pXG4gICAgICBjb25zb2xlLmxvZyBcIndhc24ndCBhYmxlIHRvIGFwcGx5IHRoZSBzZWxlY3Rpb24uLlwiXG4gICAgaWYgZGVsdGEudHlwZSBpcyBcInNlbGVjdFwiXG4gICAgICAjIEFsZ29yaXRobSBvdmVydmlldzpcbiAgICAgICMgMS4gY3V0IG9mZiB0aGUgc2VsZWN0aW9uIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGZyb21cbiAgICAgICMgMi4gY3V0IG9mZiB0aGUgc2VsZWN0aW9uIHRoYXQgaW50ZXJzZWN0cyB3aXRoIHRvXG4gICAgICAjIDMuIGV4dGVuZCAvIGFkZCBzZWxlY3Rpb25zIGluIGJldHdlZW5cblxuICAgICAgI1xuICAgICAgIyMjIyAxLiBjdXQgb2ZmIHRoZSBzZWxlY3Rpb24gdGhhdCBpbnRlcnNlY3RzIHdpdGggZnJvbVxuICAgICAgI1xuICAgICAgY3V0X29mZl9mcm9tID0gKCktPlxuICAgICAgICAjIGNoZWNrIGlmIGEgc2VsZWN0aW9uICh0byB0aGUgbGVmdCBvZiAkZnJvbSkgaW50ZXJzZWN0cyB3aXRoICRmcm9tXG4gICAgICAgIGlmIGZyb20uc2VsZWN0aW9uPyBhbmQgZnJvbS5zZWxlY3Rpb24uZnJvbSBpcyBmcm9tXG4gICAgICAgICAgIyBkb2VzIG5vdCBpbnRlcnNlY3QsIGJlY2F1c2UgdGhlIHN0YXJ0IGlzIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgIyBmaW5kIGZpcnN0IHNlbGVjdGlvbiB0byB0aGUgbGVmdFxuICAgICAgICBvID0gZnJvbS5wcmV2X2NsXG4gICAgICAgIHdoaWxlIChub3Qgby5zZWxlY3Rpb24/KSBhbmQgKG8udHlwZSBpc250IFwiRGVsaW1pdGVyXCIpXG4gICAgICAgICAgbyA9IG8ucHJldl9jbFxuICAgICAgICBpZiAobm90IG8uc2VsZWN0aW9uPykgb3Igby5zZWxlY3Rpb24udG8gaXMgb1xuICAgICAgICAgICMgbm8gaW50ZXJzZWN0aW9uXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgICMgV2UgZm91bmQgYSBzZWxlY3Rpb24gdGhhdCBpbnRlcnNlY3RzIHdpdGggJGZyb20uXG4gICAgICAgICMgTm93IHdlIGhhdmUgdG8gY2hlY2sgaWYgaXQgYWxzbyBpbnRlcnNlY3RzIHdpdGggJHRvLlxuICAgICAgICAjIFRoZW4gd2UgY3V0IGl0IGluIHN1Y2ggYSB3YXksXG4gICAgICAgICMgdGhhdCB0aGUgc2VsZWN0aW9uIGRvZXMgbm90IGludGVyc2VjdCB3aXRoICRmcm9tIGFuZCAkdG8gYW55bW9yZS5cblxuICAgICAgICAjIHRoaXMgaXMgYSByZWZlcmVuY2UgZm9yIHRoZSBzZWxlY3Rpb25zIHRoYXQgYXJlIGNyZWF0ZWQvbW9kaWZpZWQ6XG4gICAgICAgICMgb2xkX3NlbGVjdGlvbiBpcyBvdXRlciAobm90IGJldHdlZW4gJGZyb20gJHRvKVxuICAgICAgICAjICAgLSB3aWxsIGJlIGNoYW5nZWQgaW4gc3VjaCBhIHdheSB0aGF0IGl0IGlzIHRvIHRoZSBsZWZ0IG9mICRmcm9tXG4gICAgICAgICMgbmV3X3NlbGVjdGlvbiBpcyBpbm5lciAoaW5iZXR3ZWVuICRmcm9tICR0bylcbiAgICAgICAgIyAgIC0gY3JlYXRlZCwgcmlnaHQgYWZ0ZXIgJGZyb21cbiAgICAgICAgIyBvcHRfc2VsZWN0aW9uIGlzIG91dGVyIChhZnRlciAkdG8pXG4gICAgICAgICMgICAtIGNyZWF0ZWQgKGlmIG5lY2Vzc2FyeSksIHJpZ2h0IGFmdGVyICR0b1xuICAgICAgICBvbGRfc2VsZWN0aW9uID0gby5zZWxlY3Rpb25cblxuICAgICAgICAjIGNoZWNrIGlmIGZvdW5kIHNlbGVjdGlvbiBhbHNvIGludGVyc2VjdHMgd2l0aCAkdG9cbiAgICAgICAgIyAqIHN0YXJ0aW5nIGZyb20gJGZyb20sIGdvIHRvIHRoZSByaWdodCB1bnRpbCB5b3UgZm91bmQgZWl0aGVyICR0byBvciBvbGRfc2VsZWN0aW9uLnRvXG4gICAgICAgICMgKiogaWYgJHRvOiBubyBpbnRlcnNlY3Rpb24gd2l0aCAkdG9cbiAgICAgICAgIyAqKiBpZiAkb2xkX3NlbGVjdGlvbi50bzogaW50ZXJzZWN0aW9uIHdpdGggJHRvISBcbiAgICAgICAgbyA9IGZyb21cbiAgICAgICAgd2hpbGUgKG8gaXNudCBvbGRfc2VsZWN0aW9uLnRvKSBhbmQgKG8gaXNudCB0bylcbiAgICAgICAgICBvID0gby5uZXh0X2NsXG5cbiAgICAgICAgaWYgbyBpcyBvbGRfc2VsZWN0aW9uLnRvXG4gICAgICAgICAgIyBubyBpbnRlcnNlY3Rpb24gd2l0aCB0byFcbiAgICAgICAgICAjIGNyZWF0ZSAkbmV3X3NlbGVjdGlvblxuICAgICAgICAgIG5ld19zZWxlY3Rpb24gPSBjcmVhdGVTZWxlY3Rpb24gZnJvbSwgb2xkX3NlbGVjdGlvbi50bywgb2xkX3NlbGVjdGlvbi5hdHRyc1xuXG4gICAgICAgICAgZXh0ZW5kU2VsZWN0aW9uIG5ld19zZWxlY3Rpb24sIGRlbHRhLmF0dHJzXG4gICAgICAgICAgIyB1cGRhdGUgcmVmZXJlbmNlc1xuICAgICAgICAgIG9sZF9zZWxlY3Rpb24udG8gPSBmcm9tLnByZXZfY2xcbiAgICAgICAgICAjIHVwZGF0ZSByZWZlcmVuY2VzIChwb2ludGVycyB0byByZXNwZWN0aXZlIHNlbGVjdGlvbnMpXG4gICAgICAgICAgb2xkX3NlbGVjdGlvbi50by5zZWxlY3Rpb24gPSBvbGRfc2VsZWN0aW9uXG4gICAgICAgICAgbmV3X3NlbGVjdGlvbi5mcm9tLnNlbGVjdGlvbiA9IG5ld19zZWxlY3Rpb25cbiAgICAgICAgICBuZXdfc2VsZWN0aW9uLnRvLnNlbGVjdGlvbiA9IG5ld19zZWxlY3Rpb25cbiAgICAgICAgZWxzZVxuICAgICAgICAgICMgdGhlcmUgaXMgYW4gaW50ZXJzZWN0aW9uIHdpdGggdG8hXG5cbiAgICAgICAgICAjIGNyZWF0ZSAkbmV3X3NlbGVjdGlvblxuICAgICAgICAgIG5ld19zZWxlY3Rpb24gPSBjcmVhdGVTZWxlY3Rpb24gZnJvbSwgdG8sIG9sZF9zZWxlY3Rpb24uYXR0cnNcbiAgICAgICAgICBleHRlbmRTZWxlY3Rpb24gbmV3X3NlbGVjdGlvbiwgZGVsdGEuYXR0cnNcblxuICAgICAgICAgICMgY3JlYXRlICRvcHRfc2VsZWN0aW9uXG4gICAgICAgICAgb3B0X3NlbGVjdGlvbiA9IGNyZWF0ZVNlbGVjdGlvbiB0by5uZXh0X2NsLCBvbGRfc2VsZWN0aW9uLnRvLCBvbGRfc2VsZWN0aW9uLmF0dHJzXG5cbiAgICAgICAgICAjIHVwZGF0ZSByZWZlcmVuY2VzXG4gICAgICAgICAgb2xkX3NlbGVjdGlvbi50byA9IGZyb20ucHJldl9jbFxuICAgICAgICAgICMgdXBkYXRlIHJlZmVyZW5jZXMgKHBvaW50ZXJzIHRvIHJlc3BlY3RpdmUgc2VsZWN0aW9ucylcbiAgICAgICAgICBvbGRfc2VsZWN0aW9uLnRvLnNlbGVjdGlvbiA9IG9sZF9zZWxlY3Rpb25cbiAgICAgICAgICBuZXdfc2VsZWN0aW9uLmZyb20uc2VsZWN0aW9uID0gbmV3X3NlbGVjdGlvblxuICAgICAgICAgIG5ld19zZWxlY3Rpb24udG8uc2VsZWN0aW9uID0gbmV3X3NlbGVjdGlvblxuICAgICAgICAgIG9wdF9zZWxlY3Rpb24uZnJvbS5zZWxlY3Rpb24gPSBvcHRfc2VsZWN0aW9uXG4gICAgICAgICAgb3B0X3NlbGVjdGlvbi50by5zZWxlY3Rpb24gPSBvcHRfc2VsZWN0aW9uXG5cbiAgICAgIGN1dF9vZmZfZnJvbSgpXG5cbiAgICAgICMgMi4gY3V0IG9mZiB0aGUgc2VsZWN0aW9uIHRoYXQgaW50ZXJzZWN0cyB3aXRoICR0b1xuICAgICAgY3V0X29mZl90byA9ICgpLT5cbiAgICAgICAgIyBjaGVjayBpZiBhIHNlbGVjdGlvbiAodG8gdGhlIGxlZnQgb2YgJHRvKSBpbnRlcnNlY3RzIHdpdGggJHRvXG4gICAgICAgIGlmIHRvLnNlbGVjdGlvbj8gYW5kIHRvLnNlbGVjdGlvbi50byBpcyB0b1xuICAgICAgICAgICMgZG9lcyBub3QgaW50ZXJzZWN0LCBiZWNhdXNlIHRoZSBlbmQgaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAgIHJldHVyblxuICAgICAgICAjIGZpbmQgZmlyc3Qgc2VsZWN0aW9uIHRvIHRoZSBsZWZ0XG4gICAgICAgIG8gPSB0b1xuICAgICAgICB3aGlsZSAobm90IG8uc2VsZWN0aW9uPykgYW5kIChvIGlzbnQgZnJvbSlcbiAgICAgICAgICBvID0gby5wcmV2X2NsXG4gICAgICAgIGlmIChub3Qgby5zZWxlY3Rpb24/KSBvciBvLnNlbGVjdGlvbltcInRvXCJdIGlzIG9cbiAgICAgICAgICAjIG5vIGludGVyc2VjdGlvblxuICAgICAgICAgIHJldHVyblxuICAgICAgICAjIFdlIGZvdW5kIGEgc2VsZWN0aW9uIHRoYXQgaW50ZXJzZWN0cyB3aXRoICR0by5cbiAgICAgICAgIyBOb3cgd2UgaGF2ZSB0byBjdXQgaXQgaW4gc3VjaCBhIHdheSxcbiAgICAgICAgIyB0aGF0IHRoZSBzZWxlY3Rpb24gZG9lcyBub3QgaW50ZXJzZWN0IHdpdGggJHRvIGFueW1vcmUuXG5cbiAgICAgICAgIyB0aGlzIGlzIGEgcmVmZXJlbmNlIGZvciB0aGUgc2VsZWN0aW9ucyB0aGF0IGFyZSBjcmVhdGVkL21vZGlmaWVkOlxuICAgICAgICAjIGl0IGlzIHNpbWlsYXIgdG8gdGhlIG9uZSBhYm92ZSwgZXhjZXB0IHRoYXQgd2UgZG8gbm90IG5lZWQgb3B0X3NlbGVjdGlvbiBhbnltb3JlIVxuICAgICAgICAjIG9sZF9zZWxlY3Rpb24gaXMgaW5uZXIgKGJldHdlZW4gJGZyb20gYW5kICR0bylcbiAgICAgICAgIyAgIC0gd2lsbCBiZSBjaGFuZ2VkIGluIHN1Y2ggYSB3YXkgdGhhdCBpdCBpcyB0byB0aGUgbGVmdCBvZiAkdG9cbiAgICAgICAgIyBuZXdfc2VsZWN0aW9uIGlzIG91dGVyICggb3V0ZXIgJGZyb20gYW5kICR0bylcbiAgICAgICAgIyAgIC0gY3JlYXRlZCwgcmlnaHQgYWZ0ZXIgJHRvXG5cbiAgICAgICAgb2xkX3NlbGVjdGlvbiA9IG8uc2VsZWN0aW9uXG5cbiAgICAgICAgIyBjcmVhdGUgJG5ld19zZWxlY3Rpb25cbiAgICAgICAgbmV3X3NlbGVjdGlvbiA9IGNyZWF0ZVNlbGVjdGlvbiB0by5uZXh0X2NsLCBvbGRfc2VsZWN0aW9uLnRvLCBvbGRfc2VsZWN0aW9uLmF0dHJzXG4gICAgICAgICMgZXh0ZW5kIG9sZF9zZWxlY3Rpb24gd2l0aCB0aGUgbmV3IGF0dHJzXG4gICAgICAgIGV4dGVuZFNlbGVjdGlvbiBvbGRfc2VsZWN0aW9uLCBkZWx0YS5hdHRyc1xuXG4gICAgICAgICMgdXBkYXRlIHJlZmVyZW5jZXNcbiAgICAgICAgb2xkX3NlbGVjdGlvbi50byA9IHRvXG4gICAgICAgICMgdXBkYXRlIHJlZmVyZW5jZXMgKHBvaW50ZXJzIHRvIHJlc3BlY3RpdmUgc2VsZWN0aW9ucylcbiAgICAgICAgb2xkX3NlbGVjdGlvbi50by5zZWxlY3Rpb24gPSBvbGRfc2VsZWN0aW9uXG4gICAgICAgIG5ld19zZWxlY3Rpb24uZnJvbS5zZWxlY3Rpb24gPSBuZXdfc2VsZWN0aW9uXG4gICAgICAgIG5ld19zZWxlY3Rpb24udG8uc2VsZWN0aW9uID0gbmV3X3NlbGVjdGlvblxuXG4gICAgICBjdXRfb2ZmX3RvKClcblxuICAgICAgIyAzLiBleHRlbmQgLyBhZGQgc2VsZWN0aW9ucyBpbiBiZXR3ZWVuXG4gICAgICBvID0gZnJvbVxuICAgICAgd2hpbGUgKG8gaXNudCB0by5uZXh0X2NsKVxuICAgICAgICBpZiBvLnNlbGVjdGlvbj9cbiAgICAgICAgICBjb25zb2xlLmxvZyBcIjFcIlxuICAgICAgICAgICMganVzdCBleHRlbmQgdGhlIGV4aXN0aW5nIHNlbGVjdGlvblxuICAgICAgICAgIGV4dGVuZFNlbGVjdGlvbiBvLnNlbGVjdGlvbiwgZGVsdGEuYXR0cnNcbiAgICAgICAgICBvID0gby5zZWxlY3Rpb24udG8ubmV4dF9jbFxuICAgICAgICBlbHNlXG4gICAgICAgICAgIyBjcmVhdGUgYSBuZXcgc2VsZWN0aW9uICh1bnRpbCB5b3UgZmluZCB0aGUgbmV4dCBvbmUpXG4gICAgICAgICAgY29uc29sZS5sb2cgXCIyXCJcbiAgICAgICAgICBzdGFydCA9IG9cbiAgICAgICAgICB3aGlsZSAobm90IG8ubmV4dF9jbC5zZWxlY3Rpb24/KSBhbmQgKG8gaXNudCB0bylcbiAgICAgICAgICAgIG8gPSBvLm5leHRfY2xcbiAgICAgICAgICBlbmQgPSBvXG4gICAgICAgICAgc2VsZWN0aW9uID0gY3JlYXRlU2VsZWN0aW9uIHN0YXJ0LCBlbmQsIGRlbHRhLmF0dHJzXG4gICAgICAgICAgc3RhcnQuc2VsZWN0aW9uID0gc2VsZWN0aW9uXG4gICAgICAgICAgZW5kLnNlbGVjdGlvbiA9IHNlbGVjdGlvblxuICAgICAgICAgIG8gPSBvLm5leHRfY2xcblxuICAgIGVsc2UgaWYgZGVsdGEudHlwZSBpcyBcInVuc2VsZWN0XCJcbiAgICAgICMgLi5cbiAgICBlbHNlXG4gICAgICB0aHJvdyBuZXcgRXJyb3IgXCJ1bnN1cHBvcnRlZCBkZWx0YSFcIlxuICAgIHJldHVybiBkZWx0YSAjIGl0IGlzIG5lY2Vzc2FyeSB0aGF0IGRlbHRhIGlzIHJldHVybmVkIGluIHRoZSB3YXkgaXQgd2FzIGFwcGxpZWQgb24gdGhlIGdsb2JhbCBkZWx0YS5cbiAgICAjIHNvIHRoYXQgeWpzIGNhbiBrbm93IGV4YWN0bHkgd2hhdCB3YXMgYXBwbGllZC5cblxuICAjIFwidW5kb1wiIGEgZGVsdGEgZnJvbSB0aGUgY29tcG9zaXRpb25fdmFsdWVcbiAgX3VuYXBwbHk6IChkZWx0YSktPlxuICAgIGZyb20gPSBAX21vZGVsLkhCLmdldE9wZXJhdGlvbiBkZWx0YS5mcm9tXG4gICAgdG8gPSBAX21vZGVsLkhCLmdldE9wZXJhdGlvbiBkZWx0YS50b1xuICAgIGlmIG5vdCAoZnJvbT8gYW5kIHRvPylcbiAgICAgIGNvbnNvbGUubG9nIFwid2Fzbid0IGFibGUgdG8gdW5hcHBseSB0aGUgc2VsZWN0aW9uLi5cIlxuICAgIGlmIGRlbHRhLnR5cGUgaXMgXCJzZWxlY3RcIlxuICAgICAgZGVsZXRlIGZyb20uc2VsZWN0aW9uXG4gICAgICBkZWxldGUgdG8uc2VsZWN0aW9uXG4gICAgZWxzZSBpZiBkZWx0YS50eXBlIGlzIFwidW5zZWxlY3RcIlxuICAgICAgIyAuLlxuICAgIGVsc2VcbiAgICAgIHRocm93IG5ldyBFcnJvciBcInVuc3VwcG9ydGVkIGRlbHRhIVwiXG5cbiAgIyB1cGRhdGUgdGhlIGdsb2JhbERlbHRhIHdpdGggZGVsdGFcblxuXG4gICMgc2VsZWN0IF9mcm9tXywgX3RvXyB3aXRoIGFuIF9hdHRyaWJ1dGVfXG4gIHNlbGVjdDogKGZyb20sIHRvLCBhdHRycyktPlxuICAgIGRlbHRhID0gIyBwcm9iYWJseSBub3QgYXMgZWFzeSBhcyB0aGlzXG4gICAgICBmcm9tOiBmcm9tLmdldFVpZCgpXG4gICAgICB0bzogdG8uZ2V0VWlkKClcbiAgICAgIGF0dHJzOiBhdHRyc1xuICAgICAgdHlwZTogXCJzZWxlY3RcIlxuXG4gICAgQF9tb2RlbC5hcHBseURlbHRhKGRlbHRhKVxuXG4gICMgdW5zZWxlY3QgX2Zyb21fLCBfdG9fIHdpdGggYW4gX2F0dHJpYnV0ZV9cbiAgdW5zZWxlY3Q6IChmcm9tLCB0bywgYXR0cnMpLT5cbiAgICBkZWx0YSA9ICMgcHJvYmFibHkgbm90IGFzIGVhc3kgYXMgdGhpc1xuICAgICAgZnJvbTogZnJvbS5nZXRVaWQoKVxuICAgICAgdG86IHRvLmdldFVpZCgpXG4gICAgICBhdHRyczogYXR0cnNcbiAgICAgIHR5cGU6IFwidW5zZWxlY3RcIlxuXG4gICAgQF9tb2RlbC5hcHBseURlbHRhKGRlbHRhKVxuXG4gIG9ic2VydmU6IChmKS0+XG4gICAgQF9tb2RlbC5vYnNlcnZlIGZcblxuXG5pZiB3aW5kb3c/XG4gIGlmIHdpbmRvdy5ZP1xuICAgIHdpbmRvdy5ZLlNlbGVjdGlvbnMgPSBZU2VsZWN0aW9uc1xuICBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yIFwiWW91IG11c3QgZmlyc3QgaW1wb3J0IFkhXCJcblxuaWYgbW9kdWxlP1xuICBtb2R1bGUuZXhwb3J0cyA9IFlTZWxlY3Rpb25zXG5cblxuXG5cblxuXG4iXX0=
