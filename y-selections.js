!function e(t,o,n){function r(i,s){if(!o[i]){if(!t[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(l)return l(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=o[i]={exports:{}};t[i][0].call(c.exports,function(e){var o=t[i][1][e];return r(o?o:e)},c,c.exports,e,t,o,n)}return o[i].exports}for(var l="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,t){var o;if(o=function(){function e(){}return e.prototype._name="Selections",e.prototype._getModel=function(e,t){return null==this._model&&(this._model=new t.Composition(this,[]).execute()),this._model},e.prototype._setModel=function(e){this._model=e},e.prototype._apply=function(e){var t,o,n,r,l,i,s,u,c;if(l=this._model.HB.getOperation(e.from),c=this._model.HB.getOperation(e.to),t=function(e,t,o){var n,r,l;r={};for(n in o)l=o[n],r[n]=l;return{from:e,to:t,attrs:r}},r=function(e,t){var o,n,r;r=[];for(o in t)n=t[o],r.push(e.attrs[o]=n);return r},(null==l||null==c)&&console.log("wasn't able to apply the selection.."),"select"===e.type)for(o=function(o,n,l,i,s,u){var c,p,f,a;if(null==o.selection||o.selection[n]!==o){for(p=o[l];null==p.selection&&"Delimiter"!==p.type;)p=p[l];if(null!=p.selection&&p.selection[u]!==p){for(f=p.selection,p=o;null==p.selection&&p!==s;)p=p[l];return p===f[u]?(c=t(o,f[u],f.attrs),r(c,e.attrs),f[u]=o[l],f[u].selection=f,c[n].selection=c,c[u].selection=c):(c=t(o,s,f.attrs),r(c,e.attrs),a=t(s[i],f[u],f.attrs),f[u]=o[l],f[u].selection=f,c[n].selection=c,c[u].selection=c,a[n].selection=a,a[u].selection=a)}}},o(l,"from","prev_cl","next_cl",c,"to"),o(c,"to","next_cl","prev_cl",l,"from"),i=l;i!==c.next_cl;)if(null!=i.selection)r(i.selection,e.attrs),i=i.selection.to.next_cl;else{for(u=i;i!==c;)i=i.next_cl;n=i,s=t(u,n,e.attrs),u.selection=s,n.selection=s,i=i.next_cl}else if("unselect"!==e.type)throw new Error("unsupported delta!");return e},e.prototype._unapply=function(e){var t,o;if(t=this._model.HB.getOperation(e.from),o=this._model.HB.getOperation(e.to),(null==t||null==o)&&console.log("wasn't able to unapply the selection.."),"select"===e.type)return delete t.selection,delete o.selection;if("unselect"!==e.type)throw new Error("unsupported delta!")},e.prototype.select=function(e,t,o){var n;return n={from:e.getUid(),to:t.getUid(),attrs:o,type:"select"},this._model.applyDelta(n)},e.prototype.unselect=function(e,t,o){var n;return n={from:e.getUid(),to:t.getUid(),attrs:o,type:"unselect"},this._model.applyDelta(n)},e.prototype.observe=function(e){return this._model.observe(e)},e}(),"undefined"!=typeof window&&null!==window){if(null==window.Y)throw new Error("You must first import Y!");window.Y.Selections=o}"undefined"!=typeof t&&null!==t&&(t.exports=o)},{}]},{},[1]);