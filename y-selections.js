!function e(t,o,n){function r(i,u){if(!o[i]){if(!t[i]){var p="function"==typeof require&&require;if(!u&&p)return p(i,!0);if(l)return l(i,!0);throw new Error("Cannot find module '"+i+"'")}var s=o[i]={exports:{}};t[i][0].call(s.exports,function(e){var o=t[i][1][e];return r(o?o:e)},s,s.exports,e,t,o,n)}return o[i].exports}for(var l="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,t){var o;if(o=function(){function e(){}return e.prototype._name="Selections",e.prototype._getModel=function(e,t){return null==this._model&&(this._model=new t.Composition(this,[]).execute()),this._model},e.prototype._setModel=function(e){this._model=e},e.prototype._apply=function(e){var t,o,n,r,l,i,u;if(t=this._model.HB.getOperation(e.from),u=this._model.HB.getOperation(e.to),i={from:t,to:u,attr:e.attr},(null==t||null==u)&&console.log("wasn't able to apply the selection.."),"select"===e.type){for(r=null,l=null,r=t;null==o.selection&&"Delimiter"!==o.type;)o=o.prev_cl;for(l=u;null==n.selection&&n!==u;)n=n.next_cl;(o.selection.to===o||"Delimiter"===o.type)&&(n.selection===u?(t.selection=i,u.selection=i):i.to=n.prev_cl),t.selection=i,u.selection=i}else if("unselect"!==e.type)throw new Error("unsupported delta!");return e},e.prototype._unapply=function(e){var t,o;if(t=this._model.HB.getOperation(e.from),o=this._model.HB.getOperation(e.to),(null==t||null==o)&&console.log("wasn't able to unapply the selection.."),"select"===e.type)return delete t.selection,delete o.selection;if("unselect"!==e.type)throw new Error("unsupported delta!")},e.prototype.select=function(e,t,o){var n;return n={from:e.getUid(),to:t.getUid(),attr:o,type:"select"},this._model.applyDelta(n)},e.prototype.unselect=function(e,t,o){var n;return n={from:e.getUid(),to:t.getUid(),attr:o,type:"unselect"},this._model.applyDelta(n)},e.prototype.observe=function(e){return this._model.observe(e)},e}(),"undefined"!=typeof window&&null!==window){if(null==window.Y)throw new Error("You must first import Y!");window.Y.Selections=o}"undefined"!=typeof t&&null!==t&&(t.exports=o)},{}]},{},[1]);